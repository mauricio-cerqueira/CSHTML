<!--Importar as Classes que serão utilizadas-->
@using WebApplication_C.Classes

<!--Criando a conexção com o Banco de Dados-->
@{
    Layout = null;
    BancoDeDados.DBConnect();
}

<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="~/CSS/style.css">
    <title>Meu primeiro CSHTML</title>
</head>
<body>
    <div>
        <form method="post" action="~/Site/mostrar.cshtml">
            <h1>Cadastro de usuário:</h1>
            <p>Nome: <input type="text" name="nome"></p>
            <p>Sobrenome: <input type="text" name="sobrenome"></p>
            <p>E-mail: <input type="text" name="email"></p>

            <h2>Selecione seu Estado:</h2>
            <!--Buscando no DB as listas de Estados, Cidades e Municipios-->
            @{
                List<string> estados = BancoDeDados.Lista_Estados();
                List<string> cidades = BancoDeDados.Lista_Cidades();
                List<string> municipios = BancoDeDados.Lista_Municipios();
            }
            <p>
                Selecione o seu Estado:
                <select name="estado">
                    <!--Criando as opções do select no FORM -->
                    @foreach (string estado in estados)
                    {
                        <option value="@estado">@estado</option>
                    }
                </select>
            </p>
            <p>
                Selecione a sua Cidade:
                <select name="cidade">
                    <!--Criando as opções do select no FORM -->
                    @foreach (string cidade in cidades)
                    {
                        <option value="@cidade">@cidade</option>
                    }
                </select>
            </p>
            <p>
                Selecione o seu Município:
                <select name="municipio">
                    <!--Criando as opções do select no FORM -->
                    @foreach (string municipio in municipios)
                    {
                        <option value="@municipio">@municipio</option>
                    }
                </select>
            </p>
            <input type="submit" value="Enviar">
        </form>
    </div>
</body>
</html>